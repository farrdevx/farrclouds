(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{403:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),i=a(27),o=a(1),c=a(53),s=a(28),l=a(2),m=a(199),d=a(19),p=a.n(d),u=a(165),g=a(155),b=a(163),h=a(202),w=a.n(h),f=a(183),y=a(194),v=a(5),x=a.n(v),S=a(7),_=a.n(S),E=a(80),C=a(17);function O(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function j(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?O(Object(a),!0).forEach((function(t){x()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):O(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var $=e=>{let{query:t}=e,a=_()(e,["query"]);return new Promise(((e,r)=>{C.a.get("/api/client",{params:j({"filter[*]":t},a)}).then((t=>{let{data:a}=t;return e({items:(a.data||[]).map((e=>Object(E.b)(e))),pagination:Object(C.b)(a.meta.pagination)})})).catch(r)}))},k=a(157),I=a(173);const N=Object(o.c)(i.a).withConfig({displayName:"SearchModal__ServerResult",componentId:"sc-e8elnt-0"})(["",";&:hover{",";}&:not(:last-of-type){",";}"],{display:"flex",alignItems:"center","--tw-bg-opacity":"1",backgroundColor:"hsla(210, 24%, 16%, var(--tw-bg-opacity))",padding:"1rem",borderRadius:"0.25rem",borderLeftWidth:"4px","--tw-border-opacity":"1",borderColor:"hsla(210, 24%, 16%, var(--tw-border-opacity))",textDecoration:"none",transitionProperty:"all",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)",transitionDuration:"150ms"},{"--tw-shadow":"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)",boxShadow:"var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)","--tw-border-opacity":"1",borderColor:"rgba(6, 182, 212, var(--tw-border-opacity))"},{marginBottom:"0.5rem"}),R=()=>{const{values:e,submitForm:t}=Object(g.e)();return Object(r.useEffect)((()=>{e.term.length>=3&&t()}),[e.term]),null};var D=e=>{let t=p()({},e);const a=Object(r.useRef)(null),i=Object(l.useStoreState)((e=>e.user.data.rootAdmin)),[o,c]=Object(r.useState)([]),{clearAndAddHttpError:s,clearFlashes:m}=Object(l.useStoreActions)((e=>e.flashes)),d=w()(((e,t)=>{let{term:r}=e,{setSubmitting:n}=t;m("search"),$({query:r,type:i?"admin-all":void 0}).then((e=>c(e.items.filter(((e,t)=>t<5))))).catch((e=>{console.error(e),s({key:"search",error:e})})).then((()=>n(!1))).then((()=>{var e;return null===(e=a.current)||void 0===e?void 0:e.focus()}))}),500);Object(r.useEffect)((()=>{t.visible&&a.current&&a.current.focus()}),[t.visible]);const h=e=>n.a.createElement(k.b,p()({autoFocus:!0},e,{ref:a}));return n.a.createElement(g.c,{onSubmit:d,validationSchema:Object(b.d)().shape({term:Object(b.f)().min(3,"Please enter at least three characters to begin searching.")}),initialValues:{term:""}},(e=>{let{isSubmitting:a}=e;return n.a.createElement(u.b,t,n.a.createElement(g.b,null,n.a.createElement(f.a,{name:"term",label:"Search term",description:"Enter a server name, uuid, or allocation to begin searching."},n.a.createElement(R,null),n.a.createElement(y.a,{visible:a},n.a.createElement(g.a,{as:h,name:"term"})))),o.length>0&&n.a.createElement(T,{$_css:{marginTop:"1.5rem"}},o.map((e=>n.a.createElement(N,{key:e.uuid,to:"/server/".concat(e.id),onClick:()=>t.onDismissed()},n.a.createElement(P,{$_css2:{flex:"1 1 0%",marginRight:"1rem"}},n.a.createElement(z,{$_css3:{fontSize:"0.875rem",lineHeight:"1.25rem"}},e.name),n.a.createElement(B,{$_css4:{marginTop:"0.25rem",fontSize:"0.75rem",lineHeight:"1rem","--tw-text-opacity":"1",color:"hsla(211, 10%, 53%, var(--tw-text-opacity))"}},e.allocations.filter((e=>e.isDefault)).map((e=>n.a.createElement("span",{key:e.ip+e.port.toString()},e.alias||Object(I.b)(e.ip),":",e.port))))),n.a.createElement(A,{$_css5:{flex:"none",textAlign:"right"}},n.a.createElement(H,{$_css6:{fontSize:"0.75rem",lineHeight:"1rem",paddingTop:"0.25rem",paddingBottom:"0.25rem",paddingLeft:"0.5rem",paddingRight:"0.5rem","--tw-bg-opacity":"1",backgroundColor:"rgba(21, 94, 117, var(--tw-bg-opacity))","--tw-text-opacity":"1",color:"rgba(207, 250, 254, var(--tw-text-opacity))",borderRadius:"0.25rem"}},e.node)))))))}))},T=Object(o.c)("div").withConfig({displayName:"SearchModal___StyledDiv",componentId:"sc-e8elnt-1"})(["",""],(e=>e.$_css)),P=Object(o.c)("div").withConfig({displayName:"SearchModal___StyledDiv2",componentId:"sc-e8elnt-2"})(["",""],(e=>e.$_css2)),z=Object(o.c)("p").withConfig({displayName:"SearchModal___StyledP",componentId:"sc-e8elnt-3"})(["",""],(e=>e.$_css3)),B=Object(o.c)("p").withConfig({displayName:"SearchModal___StyledP2",componentId:"sc-e8elnt-4"})(["",""],(e=>e.$_css4)),A=Object(o.c)("div").withConfig({displayName:"SearchModal___StyledDiv3",componentId:"sc-e8elnt-5"})(["",""],(e=>e.$_css5)),H=Object(o.c)("span").withConfig({displayName:"SearchModal___StyledSpan",componentId:"sc-e8elnt-6"})(["",""],(e=>e.$_css6)),M=a(178),L=()=>{const[e,t]=Object(r.useState)(!1);return Object(m.a)("keydown",(a=>{["input","textarea"].indexOf((a.target.tagName||"input").toLowerCase())<0&&!e&&a.metaKey&&"/"===a.key.toLowerCase()&&t(!0)})),n.a.createElement(n.a.Fragment,null,e&&n.a.createElement(D,{appear:!0,visible:e,onDismissed:()=>t(!1)}),n.a.createElement(M.a,{placement:"bottom",content:"Search"},n.a.createElement("div",{className:"navigation-link",onClick:()=>t(!0)},n.a.createElement(c.a,{icon:s.J}))))},F=a(158),U=a(224);const W=o.c.div.withConfig({displayName:"NavigationBar__RightNavigation",componentId:"sc-tupl2x-0"})(["& > a,& > button,& > .navigation-link{",";&:active,&:hover{",";background:rgba(167,139,250,0.1);backdrop-filter:blur(8px);}&:active,&:hover,&.active{box-shadow:inset 0 -2px ",";}}"],{display:"flex",alignItems:"center",height:"100%",textDecoration:"none","--tw-text-opacity":"1",color:"hsla(211, 13%, 65%, var(--tw-text-opacity))",paddingLeft:"1.5rem",paddingRight:"1.5rem",cursor:"pointer",transitionProperty:"all",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)",transitionDuration:"300ms"},{"--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))"},"#c084fc".toString());var q=()=>{const e=Object(l.useStoreState)((e=>e.settings.data.name)),t=Object(l.useStoreState)((e=>e.settings.data.logo)),a=Object(l.useStoreState)((e=>e.settings.data.logoSize)),n=Object(l.useStoreState)((e=>e.user.data.rootAdmin)),[o,m]=Object(r.useState)(!1);return r.createElement("div",{className:"w-full octopus-navbar shadow-md overflow-x-auto"},r.createElement(F.a,{visible:o}),r.createElement("div",{className:"mx-auto w-full flex items-center h-[3.5rem] max-w-[1200px]"},r.createElement("div",{id:"logo",className:"flex-1"},r.createElement(i.a,{to:"/",className:"text-2xl font-header px-4 no-underline text-neutral-200 hover:text-neutral-100 transition-colors duration-150 flex items-center"},t?r.createElement("img",{src:t,alt:e,className:"w-auto max-w-[200px] object-contain mr-3",style:{height:"".concat(a||32,"px")},onError:e=>{const t=e.currentTarget,a=t.nextElementSibling;t.style.display="none",a&&(a.style.display="inline")}}):null,r.createElement("span",{className:""},e))),r.createElement(W,{className:"flex h-full items-center justify-center"},r.createElement(L,null),r.createElement(M.a,{placement:"bottom",content:"Dashboard"},r.createElement(i.b,{to:"/",exact:!0},r.createElement(c.a,{icon:s.C}))),n&&r.createElement(M.a,{placement:"bottom",content:"Admin"},r.createElement("a",{href:"/admin",rel:"noreferrer"},r.createElement(c.a,{icon:s.m}))),r.createElement(M.a,{placement:"bottom",content:"Account Settings"},r.createElement(i.b,{to:"/account"},r.createElement("span",{className:"flex items-center w-5 h-5"},r.createElement(U.a.User,null)))),r.createElement(M.a,{placement:"bottom",content:"Sign Out"},r.createElement("button",{onClick:()=>{m(!0),C.a.post("/auth/logout").finally((()=>{window.location="/"}))}},r.createElement(c.a,{icon:s.L}))))))},K=a(24),J=a(34),V=a.n(J);const G=(e,t)=>t>0&&e/(1024*t*1024)>=.9,X=(Object(o.c)(c.a).withConfig({displayName:"ServerRow__Icon",componentId:"sc-1ibsw91-0"})(["",";"],(e=>e.$alarm?{"--tw-text-opacity":"1",color:"rgba(248, 113, 113, var(--tw-text-opacity))"}:{"--tw-text-opacity":"1",color:"rgba(216, 180, 254, var(--tw-text-opacity))"})),V.a,o.c.div.withConfig({displayName:"ServerRow__CircularProgress",componentId:"sc-1ibsw91-2"})(["",";width:60px;height:60px;&::before{content:'';position:absolute;width:100%;height:100%;border-radius:50%;background:conic-gradient( "," ","deg,rgba(255,255,255,0.1) ","deg );mask:radial-gradient(circle at center,transparent 65%,black 66%);-webkit-mask:radial-gradient(circle at center,transparent 65%,black 66%);filter:drop-shadow(0 0 8px ",");transition:all 0.8s cubic-bezier(0.4,0,0.2,1);","}&::after{content:'';position:absolute;width:80%;height:80%;border-radius:50%;background:rgba(0,0,0,0.4);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,0.1);}@keyframes pulse-glow{0%,100%{filter:drop-shadow(0 0 8px ",");}50%{filter:drop-shadow(0 0 16px ",");}}"],{position:"relative",display:"flex",alignItems:"center",justifyContent:"center"},(e=>{if(e.$alarm)return"#ef4444";switch(e.$type){case"cpu":return"#06b6d4";case"memory":return"#10b981";case"disk":return"#f59e0b";default:return"#8b5cf6"}}),(e=>3.6*e.$percentage),(e=>3.6*e.$percentage),(e=>{if(e.$alarm)return"rgba(239, 68, 68, 0.4)";switch(e.$type){case"cpu":return"rgba(6, 182, 212, 0.4)";case"memory":return"rgba(16, 185, 129, 0.4)";case"disk":return"rgba(245, 158, 11, 0.4)";default:return"rgba(139, 92, 246, 0.4)"}}),(e=>e.$updating&&"\n            animation: pulse-glow 0.6s ease-in-out;\n        "),(e=>{if(e.$alarm)return"rgba(239, 68, 68, 0.4)";switch(e.$type){case"cpu":return"rgba(6, 182, 212, 0.4)";case"memory":return"rgba(16, 185, 129, 0.4)";case"disk":return"rgba(245, 158, 11, 0.4)";default:return"rgba(139, 92, 246, 0.4)"}}),(e=>{if(e.$alarm)return"rgba(239, 68, 68, 0.8)";switch(e.$type){case"cpu":return"rgba(6, 182, 212, 0.8)";case"memory":return"rgba(16, 185, 129, 0.8)";case"disk":return"rgba(245, 158, 11, 0.8)";default:return"rgba(139, 92, 246, 0.8)"}}))),Y=o.c.div.withConfig({displayName:"ServerRow__ProgressContent",componentId:"sc-1ibsw91-3"})(["",";.percentage{",";line-height:1;transition:all 0.3s ease-in-out;}.label{",";line-height:1;}"],{position:"relative",zIndex:"10",textAlign:"center"},{fontSize:"0.875rem",lineHeight:"1.25rem",fontWeight:"600","--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))"},{fontSize:"0.75rem",lineHeight:"1rem","--tw-text-opacity":"1",color:"hsla(211, 13%, 65%, var(--tw-text-opacity))"}),Q=o.c.div.withConfig({displayName:"ServerRow__ServerCard",componentId:"sc-1ibsw91-4"})(["",";border-radius:","px;transition-duration:",";background:",";border:1px solid ",";box-shadow:0 10px 25px -5px ",",0 10px 10px -5px rgba(0,0,0,0.1);"," &::before{content:'';position:absolute;top:0;left:0;right:0;bottom:0;background:",";opacity:0.7;transition:opacity 0.3s ease;}&::after{content:'';position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,0.1),transparent);transition:left 0.6s ease;}&:hover::before{opacity:0.9;}&:hover::after{left:100%;}&:hover{transform:translateY(-8px) scale(1.02);box-shadow:0 20px 40px -10px ",",0 20px 20px -10px ",";border-color:",";}"],{position:"relative",overflow:"hidden",padding:"1.5rem",transitionProperty:"all",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)",transitionDuration:"150ms",cursor:"pointer"},(e=>e.$borderRadius),(e=>{switch(e.$animationSpeed){case"fast":return"200ms";case"slow":return"500ms";default:return"300ms"}}),(e=>{const t=e.$primaryColor,a=e.$secondaryColor;return"solid"===e.$cardStyle?t:"glassmorphism"===e.$cardStyle?"rgba(".concat(parseInt(t.slice(1,3),16),", ").concat(parseInt(t.slice(3,5),16),", ").concat(parseInt(t.slice(5,7),16),", 0.1)"):e.$status&&"offline"!==e.$status?"running"===e.$status?"linear-gradient(135deg, ".concat(t,"60 0%, ").concat(a,"70 50%, ").concat(t,"80 100%)"):"linear-gradient(135deg, ".concat(t,"40 0%, ").concat(a,"50 50%, ").concat(t,"60 100%)"):"linear-gradient(135deg, ".concat(t,"20 0%, ").concat(a,"30 50%, ").concat(t,"40 100%)")}),(e=>"".concat(e.$primaryColor,"50")),(e=>"".concat(e.$primaryColor,"30")),(e=>"glassmorphism"===e.$cardStyle&&"\n        backdrop-filter: blur(20px);\n        -webkit-backdrop-filter: blur(20px);\n    "),(e=>{const t=e.$primaryColor,a=e.$secondaryColor;return"radial-gradient(circle at 20% 80%, ".concat(t,"40 0%, transparent 50%), radial-gradient(circle at 80% 20%, ").concat(a,"30 0%, transparent 50%), radial-gradient(circle at 40% 40%, ").concat(t,"30 0%, transparent 50%)")}),(e=>"".concat(e.$primaryColor,"40")),(e=>"".concat(e.$secondaryColor,"20")),(e=>"".concat(e.$primaryColor,"70"))),Z=o.c.div.withConfig({displayName:"ServerRow__ServerHeader",componentId:"sc-1ibsw91-5"})(["",";"],{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"1rem"}),ee=o.c.div.withConfig({displayName:"ServerRow__ServerInfo",componentId:"sc-1ibsw91-6"})(["",";"],{display:"flex",alignItems:"center",flex:"1 1 0%"}),te=o.c.div.withConfig({displayName:"ServerRow__ServerIcon",componentId:"sc-1ibsw91-7"})(["",";background:",";border:1px solid ",";box-shadow:0 4px 12px rgba(139,92,246,0.3);backdrop-filter:blur(10px);"],{width:"3.5rem",height:"3.5rem",borderRadius:"0.75rem",display:"flex",alignItems:"center",justifyContent:"center",marginRight:"1rem",position:"relative",zIndex:"10"},(e=>e.$status&&"offline"!==e.$status?"running"===e.$status?"linear-gradient(135deg, rgba(168, 85, 247, 0.5) 0%, rgba(147, 51, 234, 0.5) 100%)":"linear-gradient(135deg, rgba(147, 51, 234, 0.5) 0%, rgba(109, 40, 217, 0.5) 100%)":"linear-gradient(135deg, rgba(139, 92, 246, 0.4) 0%, rgba(124, 58, 237, 0.4) 100%)"),(e=>e.$status&&"offline"!==e.$status?"running"===e.$status?"rgba(168, 85, 247, 0.6)":"rgba(147, 51, 234, 0.6)":"rgba(139, 92, 246, 0.5)")),ae=o.c.div.withConfig({displayName:"ServerRow__ServerDetails",componentId:"sc-1ibsw91-8"})(["",";"],{flex:"1 1 0%"}),re=o.c.h3.withConfig({displayName:"ServerRow__ServerName",componentId:"sc-1ibsw91-9"})(["",";text-shadow:0 1px 3px rgba(0,0,0,",");"],{fontSize:"1.125rem",lineHeight:"1.75rem",fontWeight:"600","--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",marginBottom:"0.25rem",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},(e=>e.$textContrast/100)),ne=o.c.p.withConfig({displayName:"ServerRow__ServerDescription",componentId:"sc-1ibsw91-10"})(["",";text-shadow:0 1px 2px rgba(0,0,0,",");"],{fontSize:"0.875rem",lineHeight:"1.25rem","--tw-text-opacity":"1",color:"hsla(210, 16%, 82%, var(--tw-text-opacity))",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},(e=>(e.$textContrast-20)/100)),ie=o.c.div.withConfig({displayName:"ServerRow__StatusBadge",componentId:"sc-1ibsw91-11"})(["",";background:",";color:",";border:1px solid ",";backdrop-filter:blur(10px);box-shadow:0 4px 12px rgba(139,92,246,0.2);"],{paddingLeft:"1rem",paddingRight:"1rem",paddingTop:"0.5rem",paddingBottom:"0.5rem",borderRadius:"0.75rem",fontSize:"0.75rem",lineHeight:"1rem",fontWeight:"600",display:"flex",alignItems:"center",position:"relative",zIndex:"10"},(e=>e.$status&&"offline"!==e.$status?"running"===e.$status?"rgba(168, 85, 247, 0.25)":"rgba(147, 51, 234, 0.25)":"rgba(139, 92, 246, 0.2)"),(e=>e.$status&&"offline"!==e.$status?"running"===e.$status?"#ddd6fe":"#e9d5ff":"#c4b5fd"),(e=>e.$status&&"offline"!==e.$status?"running"===e.$status?"rgba(168, 85, 247, 0.5)":"rgba(147, 51, 234, 0.5)":"rgba(139, 92, 246, 0.4)")),oe=o.c.div.withConfig({displayName:"ServerRow__StatusDot",componentId:"sc-1ibsw91-12"})(["",";background:",";box-shadow:0 0 8px ",";animation:pulse 2s cubic-bezier(0.4,0,0.6,1) infinite;"],{width:"0.5rem",height:"0.5rem",borderRadius:"9999px",marginRight:"0.5rem"},(e=>e.$status&&"offline"!==e.$status?"running"===e.$status?"#a855f7":"#9333ea":"#8b5cf6"),(e=>e.$status&&"offline"!==e.$status?"running"===e.$status?"rgba(168, 85, 247, 0.8)":"rgba(147, 51, 234, 0.8)":"rgba(139, 92, 246, 0.8)")),ce=o.c.div.withConfig({displayName:"ServerRow__StatsGrid",componentId:"sc-1ibsw91-13"})(["",";"],{display:"grid",gridTemplateColumns:"repeat(3, minmax(0, 1fr))",gap:"1rem",marginTop:"1rem"}),se=o.c.div.withConfig({displayName:"ServerRow__StatCard",componentId:"sc-1ibsw91-14"})(["",";"],{textAlign:"center"}),le=o.c.div.withConfig({displayName:"ServerRow__AddressInfo",componentId:"sc-1ibsw91-15"})(["",";"],{display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.875rem",lineHeight:"1.25rem","--tw-text-opacity":"1",color:"hsla(211, 10%, 53%, var(--tw-text-opacity))",marginTop:"0.75rem",paddingTop:"0.75rem",borderTopWidth:"1px","--tw-border-opacity":"1",borderColor:"hsla(209, 18%, 30%, var(--tw-border-opacity))"}),me=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:800;const[a,n]=Object(r.useState)(e),i=Object(r.useRef)(),o=Object(r.useRef)(),c=Object(r.useRef)(e);return Object(r.useEffect)((()=>{if(Math.abs(a-e)<.1)return;c.current=a,o.current=Date.now();const r=()=>{const a=Date.now()-o.current,s=Math.min(a/t,1),l=1-Math.pow(1-s,3),m=c.current+(e-c.current)*l;n(m),s<1&&(i.current=requestAnimationFrame(r))};return i.current=requestAnimationFrame(r),()=>{i.current&&cancelAnimationFrame(i.current)}}),[e,t]),a};var de=e=>{let{server:t,className:a}=e;const o=Object(r.useRef)(null),[c,m]=Object(r.useState)("suspended"===t.status),[d,p]=Object(r.useState)(null),[u,g]=Object(r.useState)(!1),b=Object(l.useStoreState)((e=>e.settings.data)),h=(null==b?void 0:b["theme:primary_color"])||"#8b5cf6",w=(null==b?void 0:b["theme:secondary_color"])||"#7c3aed",f=(null==b?void 0:b["theme:card_style"])||"gradient",y=parseInt((null==b?void 0:b["theme:border_radius"])||"16"),v=(null==b?void 0:b["theme:animation_speed"])||"normal",x=parseInt((null==b?void 0:b["theme:text_contrast"])||"80"),S=me((null==d?void 0:d.cpuUsagePercent)||0),_=me(d&&0!==t.limits.memory?Math.min(d.memoryUsageInBytes/Object(I.c)(t.limits.memory)*100,100):0),E=me(d&&0!==t.limits.disk?Math.min(d.diskUsageInBytes/Object(I.c)(t.limits.disk)*100,100):0),O=()=>(g(!0),(e=>new Promise(((t,a)=>{C.a.get("/api/client/servers/".concat(e,"/resources")).then((e=>{let{data:{attributes:a}}=e;return t({status:a.current_state,isSuspended:a.is_suspended,memoryUsageInBytes:a.resources.memory_bytes,cpuUsagePercent:a.resources.cpu_absolute,diskUsageInBytes:a.resources.disk_bytes,networkRxInBytes:a.resources.network_rx_bytes,networkTxInBytes:a.resources.network_tx_bytes,uptime:a.resources.uptime})})).catch(a)})))(t.uuid).then((e=>{p(e),setTimeout((()=>g(!1)),300)})).catch((e=>{console.error(e),g(!1)})));Object(r.useEffect)((()=>{m((null==d?void 0:d.isSuspended)||"suspended"===t.status)}),[null==d?void 0:d.isSuspended,t.status]),Object(r.useEffect)((()=>{if(!c)return O().then((()=>{o.current=setInterval((()=>O()),2e3)})),()=>{o.current&&clearInterval(o.current)}}),[c]);const j={cpu:!1,memory:!1,disk:!1};d&&(j.cpu=0!==t.limits.cpu&&d.cpuUsagePercent>=.9*t.limits.cpu,j.memory=G(d.memoryUsageInBytes,t.limits.memory),j.disk=0!==t.limits.disk&&G(d.diskUsageInBytes,t.limits.disk));const $=0!==t.limits.disk?Object(I.a)(Object(I.c)(t.limits.disk)):"Unlimited",k=0!==t.limits.memory?Object(I.a)(Object(I.c)(t.limits.memory)):"Unlimited",N=0!==t.limits.cpu?t.limits.cpu+" %":"Unlimited";return n.a.createElement(i.a,{to:"/server/".concat(t.id),className:a},n.a.createElement(Q,{$status:null==d?void 0:d.status,$primaryColor:h,$secondaryColor:w,$cardStyle:f,$borderRadius:y,$animationSpeed:v,$textContrast:x},n.a.createElement(Z,null,n.a.createElement(ee,null,n.a.createElement(te,{$status:null==d?void 0:d.status},n.a.createElement(pe,{icon:s.K})),n.a.createElement(ae,null,n.a.createElement(re,{$textContrast:x},t.name),!!t.description&&n.a.createElement(ne,{$textContrast:x},t.description))),n.a.createElement(ie,{$status:null==d?void 0:d.status},n.a.createElement(oe,{$status:null==d?void 0:d.status}),(null==d?void 0:d.status)&&"offline"!==d.status?"running"===d.status?"Online":"starting"===d.status?"Starting":"Unknown":"Offline")),!d||c?c?n.a.createElement(ue,null,n.a.createElement(ge,null,"suspended"===t.status?"Server Suspended":"Connection Error")):t.isTransferring||t.status?n.a.createElement(be,null,n.a.createElement(he,null,t.isTransferring?"Transferring Server":"installing"===t.status?"Installing Server":"restoring_backup"===t.status?"Restoring Backup":"Server Unavailable")):n.a.createElement(we,null,n.a.createElement(K.a,{size:"small"})):n.a.createElement(ce,null,n.a.createElement(se,null,n.a.createElement(X,{$percentage:S,$alarm:j.cpu,$type:"cpu",$updating:u},n.a.createElement(Y,null,n.a.createElement("div",{className:"percentage"},Math.round(S)),n.a.createElement("div",{className:"label"},"CPU"))),n.a.createElement(fe,null,"of ",N)),n.a.createElement(se,null,n.a.createElement(X,{$percentage:_,$alarm:j.memory,$type:"memory",$updating:u},n.a.createElement(Y,null,n.a.createElement("div",{className:"percentage"},Math.round(_)),n.a.createElement("div",{className:"label"},"RAM"))),n.a.createElement(ye,null,"of ",k)),n.a.createElement(se,null,n.a.createElement(X,{$percentage:E,$alarm:j.disk,$type:"disk",$updating:u},n.a.createElement(Y,null,n.a.createElement("div",{className:"percentage"},Math.round(E)),n.a.createElement("div",{className:"label"},"DISK"))),n.a.createElement(ve,null,"of ",$))),n.a.createElement(le,null,n.a.createElement(xe,{icon:s.q}),t.allocations.filter((e=>e.isDefault)).map((e=>n.a.createElement("span",{key:e.ip+e.port.toString()},e.alias||Object(I.b)(e.ip),":",e.port))))))},pe=Object(o.c)(c.a).withConfig({displayName:"ServerRow___StyledFontAwesomeIcon",componentId:"sc-1ibsw91-16"})({"--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",fontSize:"1.125rem",lineHeight:"1.75rem"}),ue=Object(o.c)("div").withConfig({displayName:"ServerRow___StyledDiv",componentId:"sc-1ibsw91-17"})({textAlign:"center",paddingTop:"2rem",paddingBottom:"2rem"}),ge=Object(o.c)("span").withConfig({displayName:"ServerRow___StyledSpan",componentId:"sc-1ibsw91-18"})({"--tw-bg-opacity":"1",backgroundColor:"rgba(239, 68, 68, var(--tw-bg-opacity))",borderRadius:"0.5rem",paddingLeft:"1rem",paddingRight:"1rem",paddingTop:"0.5rem",paddingBottom:"0.5rem","--tw-text-opacity":"1",color:"rgba(254, 226, 226, var(--tw-text-opacity))",fontSize:"0.875rem",lineHeight:"1.25rem",fontWeight:"500"}),be=Object(o.c)("div").withConfig({displayName:"ServerRow___StyledDiv2",componentId:"sc-1ibsw91-19"})({textAlign:"center",paddingTop:"2rem",paddingBottom:"2rem"}),he=Object(o.c)("span").withConfig({displayName:"ServerRow___StyledSpan2",componentId:"sc-1ibsw91-20"})({"--tw-bg-opacity":"1",backgroundColor:"hsla(211, 12%, 43%, var(--tw-bg-opacity))",borderRadius:"0.5rem",paddingLeft:"1rem",paddingRight:"1rem",paddingTop:"0.5rem",paddingBottom:"0.5rem","--tw-text-opacity":"1",color:"hsla(214, 15%, 91%, var(--tw-text-opacity))",fontSize:"0.875rem",lineHeight:"1.25rem",fontWeight:"500"}),we=Object(o.c)("div").withConfig({displayName:"ServerRow___StyledDiv3",componentId:"sc-1ibsw91-21"})({display:"flex",justifyContent:"center",paddingTop:"2rem",paddingBottom:"2rem"}),fe=Object(o.c)("p").withConfig({displayName:"ServerRow___StyledP",componentId:"sc-1ibsw91-22"})({fontSize:"0.75rem",lineHeight:"1rem","--tw-text-opacity":"1",color:"hsla(211, 10%, 53%, var(--tw-text-opacity))",marginTop:"0.5rem"}),ye=Object(o.c)("p").withConfig({displayName:"ServerRow___StyledP2",componentId:"sc-1ibsw91-23"})({fontSize:"0.75rem",lineHeight:"1rem","--tw-text-opacity":"1",color:"hsla(211, 10%, 53%, var(--tw-text-opacity))",marginTop:"0.5rem"}),ve=Object(o.c)("p").withConfig({displayName:"ServerRow___StyledP3",componentId:"sc-1ibsw91-24"})({fontSize:"0.75rem",lineHeight:"1rem","--tw-text-opacity":"1",color:"hsla(211, 10%, 53%, var(--tw-text-opacity))",marginTop:"0.5rem"}),xe=Object(o.c)(c.a).withConfig({displayName:"ServerRow___StyledFontAwesomeIcon2",componentId:"sc-1ibsw91-25"})({"--tw-text-opacity":"1",color:"rgba(216, 180, 254, var(--tw-text-opacity))",marginRight:"0.5rem"}),Se=a(57),_e=a(153),Ee=a(254),Ce=a(203),Oe=a(175),je=a(255),$e=()=>{const{search:e}=Object(i.g)(),t=Number(new URLSearchParams(e).get("page")||"1"),[a,o]=Object(r.useState)(!isNaN(t)&&t>0?t:1),{clearFlashes:c,clearAndAddHttpError:s}=Object(_e.a)(),m=Object(l.useStoreState)((e=>e.user.data.uuid)),d=Object(l.useStoreState)((e=>e.user.data.rootAdmin)),[p,u]=Object(Ee.a)("".concat(m,":show_all_servers"),!1),{data:g,error:b}=Object(Oe.a)(["/api/client/servers",p&&d,a],(()=>$({page:a,type:p&&d?"admin":void 0})));return Object(r.useEffect)((()=>{g&&g.pagination.currentPage>1&&!g.items.length&&o(1)}),[null==g?void 0:g.pagination.currentPage]),Object(r.useEffect)((()=>{window.history.replaceState(null,document.title,"/".concat(a<=1?"":"?page=".concat(a)))}),[a]),Object(r.useEffect)((()=>{b&&s({key:"dashboard",error:b}),b||c("dashboard")}),[b]),n.a.createElement(Se.a,{title:"Dashboard",showFlashKey:"dashboard"},d&&n.a.createElement(ke,null,n.a.createElement(Ie,null,p?"Showing others' servers":"Showing your servers"),n.a.createElement(Ce.a,{name:"show_all_servers",defaultChecked:p,onChange:()=>u((e=>!e))})),g?n.a.createElement(je.a,{data:g,onPageSelect:o},(e=>{let{items:t}=e;return t.length>0?n.a.createElement(Ne,null,t.map((e=>n.a.createElement(de,{key:e.uuid,server:e})))):n.a.createElement(Re,null,n.a.createElement(De,null,n.a.createElement(Te,null,n.a.createElement(Pe,{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},n.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 12h14M5 12a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v4a2 2 0 01-2 2M5 12a2 2 0 00-2 2v4a2 2 0 002 2h14a2 2 0 002-2v-4a2 2 0 00-2-2m-2-4h.01M17 16h.01"}))),n.a.createElement(ze,null,"No Servers Found"),n.a.createElement(Be,null,p?"There are no other servers to display.":"There are no servers associated with your account.")))})):n.a.createElement(K.a,{centered:!0,size:"large"}))},ke=Object(o.c)("div").withConfig({displayName:"DashboardContainer___StyledDiv",componentId:"sc-1topkxf-0"})({marginBottom:"0.5rem",display:"flex",justifyContent:"flex-end",alignItems:"center"}),Ie=Object(o.c)("p").withConfig({displayName:"DashboardContainer___StyledP",componentId:"sc-1topkxf-1"})({textTransform:"uppercase",fontSize:"0.75rem",lineHeight:"1rem","--tw-text-opacity":"1",color:"hsla(211, 13%, 65%, var(--tw-text-opacity))",marginRight:"0.5rem"}),Ne=Object(o.c)("div").withConfig({displayName:"DashboardContainer___StyledDiv2",componentId:"sc-1topkxf-2"})({display:"grid",gridTemplateColumns:"repeat(1, minmax(0, 1fr))",gap:"1.5rem","@media (min-width: 768px)":{gridTemplateColumns:"repeat(2, minmax(0, 1fr))"},"@media (min-width: 1280px)":{gridTemplateColumns:"repeat(3, minmax(0, 1fr))"}}),Re=Object(o.c)("div").withConfig({displayName:"DashboardContainer___StyledDiv3",componentId:"sc-1topkxf-3"})({textAlign:"center",paddingTop:"4rem",paddingBottom:"4rem"}),De=Object(o.c)("div").withConfig({displayName:"DashboardContainer___StyledDiv4",componentId:"sc-1topkxf-4"})({maxWidth:"28rem",marginLeft:"auto",marginRight:"auto"}),Te=Object(o.c)("div").withConfig({displayName:"DashboardContainer___StyledDiv5",componentId:"sc-1topkxf-5"})({width:"4rem",height:"4rem",marginLeft:"auto",marginRight:"auto",marginBottom:"1rem",borderRadius:"9999px","--tw-bg-opacity":"1",backgroundColor:"hsla(209, 18%, 30%, var(--tw-bg-opacity))",display:"flex",alignItems:"center",justifyContent:"center"}),Pe=Object(o.c)("svg").withConfig({displayName:"DashboardContainer___StyledSvg",componentId:"sc-1topkxf-6"})({width:"2rem",height:"2rem","--tw-text-opacity":"1",color:"hsla(211, 10%, 53%, var(--tw-text-opacity))"}),ze=Object(o.c)("h3").withConfig({displayName:"DashboardContainer___StyledH",componentId:"sc-1topkxf-7"})({fontSize:"1.125rem",lineHeight:"1.75rem",fontWeight:"500","--tw-text-opacity":"1",color:"rgba(255, 255, 255, var(--tw-text-opacity))",marginBottom:"0.5rem"}),Be=Object(o.c)("p").withConfig({displayName:"DashboardContainer___StyledP2",componentId:"sc-1topkxf-8"})({fontSize:"0.875rem",lineHeight:"1.25rem","--tw-text-opacity":"1",color:"hsla(211, 10%, 53%, var(--tw-text-opacity))"}),Ae=a(56),He=a(256);var Me=o.c.div.withConfig({displayName:"SubNavigation",componentId:"sc-lfuaoi-0"})(["",";& > div{",";max-width:1200px;& > a,& > div{",";&:not(:first-of-type){",";}&:hover{",";}&:active,&.active{",";box-shadow:inset 0 -2px ",";}}}"],{width:"100%","--tw-bg-opacity":"1",backgroundColor:"hsla(209, 18%, 30%, var(--tw-bg-opacity))","--tw-shadow":"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)",boxShadow:"var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)",overflowX:"auto"},{display:"flex",alignItems:"center",fontSize:"0.875rem",lineHeight:"1.25rem",marginLeft:"auto",marginRight:"auto",paddingLeft:"0.5rem",paddingRight:"0.5rem"},{display:"inline-block",paddingTop:"0.75rem",paddingBottom:"0.75rem",paddingLeft:"1rem",paddingRight:"1rem","--tw-text-opacity":"1",color:"hsla(211, 13%, 65%, var(--tw-text-opacity))",textDecoration:"none",whiteSpace:"nowrap",transitionProperty:"all",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)",transitionDuration:"150ms"},{marginLeft:"0.5rem"},{"--tw-text-opacity":"1",color:"hsla(214, 15%, 91%, var(--tw-text-opacity))"},{"--tw-text-opacity":"1",color:"hsla(214, 15%, 91%, var(--tw-text-opacity))"},"#0891b2".toString()),Le=a(15),Fe=a(239);t.default=()=>{const e=Object(Le.h)();return n.a.createElement(n.a.Fragment,null,n.a.createElement(q,null),e.pathname.startsWith("/account")&&n.a.createElement(Me,null,n.a.createElement("div",null,Fe.a.account.filter((e=>!!e.name)).map((e=>{let{path:t,name:a,exact:r=!1}=e;return n.a.createElement(i.b,{key:t,to:"/account/".concat(t).replace("//","/"),exact:r},a)})))),n.a.createElement(He.a,null,n.a.createElement(n.a.Suspense,{fallback:n.a.createElement(K.a,{centered:!0})},n.a.createElement(i.e,{location:e},n.a.createElement(i.c,{path:"/",exact:!0},n.a.createElement($e,null)),Fe.a.account.map((e=>{let{path:t,component:a}=e;return n.a.createElement(i.c,{key:t,path:"/account/".concat(t).replace("//","/"),exact:!0},n.a.createElement(a,null))})),n.a.createElement(i.c,{path:"*"},n.a.createElement(Ae.a,null))))))}}}]);